TCP/IP协议分层

赵jc 2021-04-15 00:06:03  5  收藏
分类专栏： 计算机网络 文章标签： 网络 网络协议
编辑 版权
TCP/IP协议分层
OSI七层模型
TCP/IP模型
各层的作用
应用层
表示层
会话层
传输层
网络层
数据链路层
物理层
封装和分用
五元组



OSI七层模型
OSI七层协议模型主要是：应用层（Application）、表示层（Presentation）、会话层（Session）、传输层（Transport）、网络层（Network）、数据链路层（Data Link）、物理层（Physical）。可以简单记为"物联网淑惠使用"
OSI是专家制定的完美的理想的模型，但实际上很难落实到实际，所以我们一般采用的都是TCP、IP模型。

TCP/IP模型


OSI七层协议模型主要是：应用层（Application）、传输层（Transport）、网络层（Network）、数据链路层（Data Link）、物理层（Physical）。
TCP/IP模型应用性强，现在我们使用的都是它。

各层的作用
应用层
传输数据的单元为报文
是体系结构中的最高。直接为用户的应用进程（例如电子邮件、文件传输和远程登录）提供服务。
在因特网中的应用层协议很多，如支持万维网应用的HTTP协议，支持电子邮件的SMTP协议，支持文件传送的FTP协议，以及DNS，SNMP，Telnet等等。
表示层
可确保一个系统的应用层所发送的信息可以被另一个系统的应用层读取
会话层
通过运输层（端口号：传输端口与接收端口）建立数据传输的通路。主要在你的系统之间发起会话或者接受会话请求（设备之间需要互相认识可以是IP也可以是MAC或者是主机名）
传输层
数据传输单元为报文段
负责向两个主机中进程之间的通信提供服务。由于一个主机可同时运行多个进程，因此运输层有复用和分用的功能
复用，就是多个应用层进程可同时使用下面运输层的服务。
分用，就是把收到的信息分别交付给上面应用层中相应的进程。

运输层主要使用以下两种协议：
(1) 传输控制协议TCP(Transmission Control Protocol)：面向连接的，数据传输的单位是报文段，能够提供可靠的交付。
(2) 用户数据包协议UDP(User Datagram Protocol)：无连接的，数据传输的单位是用户数据报，不保证提供可靠的交付，只能提供“尽最大努力交付”。

网络层
数据传输单元为IP数据报
主要包括以下两个任务：
(1) 负责为分组交换网上的不同主机提供通信服务。在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组或包进行传送。在TCP/IP体系中，由于网络层使用IP协议，因此分组也叫做IP数据报，或简称为数据报。
(2) 选中合适的路由，使源主机运输层所传下来的分组，能够通过网络中的路由器找到目的主机。

协议：IP,ICMP,ARP,RARP
数据链路层
我们知道，两个主机之间的数据传输，总是在一段一段的链路上传送的，也就是说，在两个相邻结点之间传送数据是直接传送的(点对点)，这时就需要使用专门的链路层的协议。

传输数据的单元是数据帧
在两个相邻结点之间传送数据时，数据链路层将网络层交下来的IP数据报组装成帧(framing)，在两个相邻结点之间的链路上“透明”地传送帧中的数据。
每一帧包括数据和必要的控制信息(如同步信息、地址信息、差错控制等)。典型的帧长是几百字节到一千多字节。
注：”透明”是一个很重要的术语。它表示，某一个实际存在的事物看起来却好像不存在一样。”在数据链路层透明传送数据”表示无力什么样的比特组合的数据都能够通过这个数据链路层。因此，对所传送的数据来说，这些数据就“看不见”数据链路层。或者说，数据链路层对这些数据来说是透明的。

在接收数据时，控制信息使接收端能知道一个帧从哪个比特开始和到哪个比特结束。这样，数据链路层在收到一个帧后，就可从中提取出数据部分，上交给网络层。
控制信息还使接收端能检测到所收到的帧中有无差错。如发现有差错，数据链路层就简单地丢弃这个出了差错的帧，以免继续传送下去白白浪费网络资源。如需改正错误，就由运输层的TCP协议来完成。
物理层
对于我们来说，物理层只需要了解即可。

数据的传输单元是比特流
主要定义物理设备标准，如网线的接口类型、光纤的接口类型、各种传输介质的传输速率等。
封装和分用
不同的协议层对数据包有不同的称谓,在传输层叫做段(segment),在网络层叫做数据报(datagram),在链路层叫做帧(frame).
应用层数据通过协议栈发到网络上时,每层协议都要加上一个数据首部(header),称为封装(Encapsulation).
首部信息中包含了一些类似于首部有多长, 载荷(payload)有多长, 上层协议是什么等信息. 数据封装成帧后发到传输介质上,到达目的主机后每层协议再剥掉相应的首部, 根据首部中的"上层协议字段" 将数据交给对应的上层协议处理.
下图为数据封装的过程


下图为数据分用的过程


五元组
IP：标识主机，给人用的

源IP：发送数据的主机
目的IP：接受数据的主机
端口号：标识某个主机进程

源端口：标识发送数据的进程
目的端口：接收数据的进程
协议号：进程封装、解析数据的格式
